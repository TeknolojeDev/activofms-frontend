<form [formGroup]="ViewForm">
  <section class="content-header pt-0 pb-0 mt-0 mx-0 mb-0 md-0">
    <div class="container-fluid mx-0 px-0 mx-0 mb-0">
      <div class="row">
        <div class="col header">
          <div>
            <span class="header__heading" style="font-weight: bold"
              >View Parking</span
            >
            <span class="header__back" [routerLink]="ParkingSlotURL"
              ><i class="fas fa-arrow-circle-left"></i> Back to list</span
            >
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="content-header pt-0 pb-0 mt-3 mx-0 mb-0 md-0">
    <div class="container-fluid">
      <div class="card">
        <div class="card-header">
          <!-- Field Row Start -->
          <div class="row md-0 px-3 pb-2">
            <div class="col-md-4 ">
              <label class="mb-0">Floor </label>

              <select
                class="form-control form-control-sm col-md-12"
                formControlName="floorId"
                (change)="onFlorChange($event.target.value)"
              >
                <option [ngValue]="null">All Floors</option>
                <option
                  *ngFor="let floor of ParkingFloorList"
                  [value]="floor.id"
                >
                  {{ floor.name }}
                </option>
              </select>
            </div>

            <div class="col-md-4">
              <label class="mb-0">Slot </label>

              <select
                class="form-control form-control-sm col-md-12"
                formControlName="id"
              >
                <option >All Slots</option>
                <option *ngFor="let slot of ParkingSlotList" [value]="slot.id">
                  {{ slot.name }}
                </option>
              </select>
            </div>

            <div class="col-md-4" style="float: right; padding-top: 20px">
              <button
                class="btn btn-info"
                (click)="OnFilterFormSubmit()"
                style="margin-right: 15px; width: 100px"
              >
                <i class="fa fa-search" aria-hidden="true"></i> Search
              </button>

              <button
                class="btn btn-danger"
                (click)="resetFilterFormSubmit()"
                style="margin-right: 15px; width: 100px"
              >
                <i class="fa fa-hourglass-half" aria-hidden="true"></i> Reset
              </button>

              <!-- <button class="btn btn-secondary" [routerLink]="ParkingSlotURL" style="width: 100px">
                <i class="fa fa-eye" aria-hidden="true"></i> View
              </button> -->

              <div
                class="btn-group btn-group-toggle"
                data-toggle="buttons"
                style="width: 200px"
              >
                <label class="btn btn-info" [routerLink]="ParkingSlotURL">
                  <input
                    type="radio"
                    name="options"
                    id="option1"
                    autocomplete="off"
                    checked
                  />
                  Grid View
                </label>
                <label class="btn btn-info active">
                  <input
                    type="radio"
                    name="options"
                    id="option2"
                    autocomplete="off"
                  />
                  Dashboard
                </label>
              </div>
            </div>
          </div>
          <!-- Field Row: End -->
          <!-- Field Row Start -->
          <!-- Field Row End -->
        </div>
      </div>
    </div>
  </section>
</form>

<div class="container-fluid">
  <div
    class="row px-3 py-2"
    style="font-size: large; font-weight: bold; margin-left: 5px"
  >
    {{ buildingname }} | Floor
  </div>

  <div class="row mx-1">
    <div class="col-md-2 col-sm-6" *ngFor="let content of GridData">
      <!-- Or ye ngClass k through hum dynamically wo add kr rahy -->
      <div 
        [ngClass]="{
          'state-card-expandable': true,
          remove: content.isAllotted
        }"
      >
        <div class="state-card-expandable--main" style="margin-left: 48px">
          <div *ngIf="content.isAllotted">
            <label for="">{{ content.name }}</label>
            <br />
            <label for=""> {{ content.floor }}</label>
            <br />
            <label for=""> {{ content.flatname }}</label>
          </div>
          <!-- <div *ngFor="let flat of FlatList">

            </div> -->
          <div *ngIf="!content.isAllotted">
            <label for="">{{ content.name }}</label>
            <br />

            <span
              class="header__back"
              (click)="openModal(AddParkingSlotModel, content.name, content.id)"
            >
              <i class="fa fa-plus" style="font-size: 45px; color: #198754"></i>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #AddParkingSlotModel>
    <div class="modal-header">
      <h4 class="modal-title pull-left">Add Parking Slot</h4>
      <button
        type="button"
        class="btn-close close pull-right"
        aria-label="Close"
        (click)="modalRef?.hide()"
      >
        <span aria-hidden="true" class="visually-hidden">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form
        [formGroup]="AddParkingSlotDateForm"
        (ngSubmit)="onAddParkingSlotDataFormSubmit()"
      >
        <div class="container-fluid">
          <!-- Field Row Start -->
          <div class="row">
            <div class="col-sm-12 mb-2">
              <label class="mb-0" for="name">Slot</label>
              <input
                type="text"
                disabled="true"
                [(ngModel)]="currentParkingSlotName"
                formControlName="name"
                class="form-control col-md-12"
              />
            </div>
            <div class="col-md-12 mb-2">
              <label class="mb-0">Flat</label>
              <select class="form-control col-md-12" formControlName="FlatId">
                <option [ngValue]="null">Choose flat</option>
                <option *ngFor="let flat of FlatList" [value]="flat.id">
                  {{ flat.name }}
                </option>
              </select>
            </div>
            <div class="col-sm-12">
              <button
                type="submit"
                class="btn btn__primary"
                style="width: 100px"
              >
                Save
              </button>
            </div>
          </div>
          <!-- Field Row End -->
        </div>
      </form>
    </div>
  </ng-template>
</div>
